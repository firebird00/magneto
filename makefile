# ----------------------------------------------------------------------------------------------------------------------------------
# --- Quarkwood Magneto 8.0 --------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------------------------------
# --- The Makefile -----------------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------------------------------


# GDB with traps for floating point exceptions
# FFLAGS = -g -ffpe-trap=invalid,overflow -fbounds-check

# GDB
# FFLAGS = -g

# GDB with profiling
# FFLAGS = -g -pg

# Optimised
  FFLAGS = -O3


# ----------------------------------------------------------------------------------------------------------------------------------


MAGNETO:	A_setup_mod.f90		\
		B_fluid_mod.f90		\
		C_tests_mod.f90		\
		D_grids_mod.f90		\
		E_recon_mod.f90		\
		F_solve_mod.f90		\
		G_evolve_mod.f90	\
		H_error_mod.f90		\
		main.f90

		gfortran -o MAGNETO 	\
		$(FFLAGS)		\
		A_setup_mod.f90		\
		B_fluid_mod.f90		\
		C_tests_mod.f90		\
		D_grids_mod.f90		\
		E_recon_mod.f90		\
		F_solve_mod.f90		\
		G_evolve_mod.f90	\
		H_error_mod.f90		\
		main.f90

		rm *.mod

clean:
		rm *.mod *~